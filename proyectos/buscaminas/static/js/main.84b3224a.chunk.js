(this.webpackJsonpbuscaminas=this.webpackJsonpbuscaminas||[]).push([[0],{14:function(a,e,t){a.exports=t.p+"static/media/bomba.030ae128.png"},15:function(a,e,t){a.exports=t(26)},20:function(a,e,t){},26:function(a,e,t){"use strict";t.r(e);var n=t(0),r=t.n(n),l=t(13),i=t.n(l),c=(t(20),t(2)),s=t(3),o=t(5),u=t(4),m=t(6),d=(t(8),function(a){function e(){return Object(c.a)(this,e),Object(o.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(m.a)(e,a),Object(s.a)(e,[{key:"estado",value:function(){var a=this.props.value;return a.revelada?a.minada?"\ud83d\udca3":0===a.celdaVecina?null:a.celdaVecina:this.props.value.bandera?"\ud83d\udea9":null}},{key:"render",value:function(){var a=this.props,e=a.value,t=a.onClick,n=a.bandera,l="celda"+(e.revelada?"":" oculta")+(e.minada?" minada":"")+(e.bandera?" bandera":"");return r.a.createElement("div",{onClick:t,className:l,onContextMenu:n},this.estado())}}]),e}(r.a.Component)),h=t(28),f=t(29);t(21),t(22),t(23);var b=function(a){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-4 offset-1 col-sm-2"},r.a.createElement("h5",null,"Men\xfa"),r.a.createElement("ul",{className:"list-unstyled"},r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Inicio")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Sobre m\xed")),r.a.createElement("li",null,r.a.createElement("a",{href:"contacto.html"},"Contacto")))),r.a.createElement("div",{className:"col-7 col-sm-5"},r.a.createElement("h5",null,"\xbfD\xf3nde estoy?"),r.a.createElement("address",null,"Calle Mina",r.a.createElement("br",null),"n\xba 8",r.a.createElement("br",null),"ANDALUC\xcdA",r.a.createElement("br",null),r.a.createElement("i",{className:"fa fa-phone fa-lg"}),": +123456789",r.a.createElement("br",null),r.a.createElement("i",{className:"fa fa-fax fa-lg"}),": +123456789",r.a.createElement("br",null),r.a.createElement("i",{className:"fa fa-envelope fa-lg"}),": ",r.a.createElement("a",{href:"mailto:rafaelcarrillobonilla@gmail.com"},"rafaelcarrillobonilla@gmail.com"))),r.a.createElement("div",{className:"col-12 col-sm-4 align-self-center"},r.a.createElement("div",{className:"text-center"},r.a.createElement("a",{className:"btn btn-social-icon btn-facebook",href:"#"},r.a.createElement("i",{className:"fa fa-facebook"})),r.a.createElement("a",{className:"btn btn-social-icon btn-linkedin",target:"_blank",href:"https://www.linkedin.com/in/rafael-carrillo-bonilla-a6a3bb177/"},r.a.createElement("i",{className:"fa fa-linkedin"})),r.a.createElement("a",{className:"btn btn-social-icon btn-twitter",href:"#"},r.a.createElement("i",{className:"fa fa-twitter"})),r.a.createElement("a",{className:"btn btn-social-icon btn-google",href:"#"},r.a.createElement("i",{className:"fa fa-youtube"}))))),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("p",null,r.a.createElement("strong",null,"RAFAEL CARRILLO BONILLA"))))))},v=t(14),p=t.n(v),E=function(a){function e(){var a,t;Object(c.a)(this,e);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(o.a)(this,(a=Object(u.a)(e)).call.apply(a,[this].concat(r)))).state={datosTablon:t.inicializar(t.props.altura,t.props.anchura,t.props.n_minas),estadoJuego:"EN JUEGO \ud83c\udfae",nMinasTotal:t.props.n_minas,jugando:0},t}return Object(m.a)(e,a),Object(s.a)(e,[{key:"generarAleatorio",value:function(a){return Math.floor(1e3*Math.random()+1)%a}},{key:"cogerMinas",value:function(a){var e=[];return a.map((function(a){a.map((function(a){a.minada&&e.push(a)}))})),e}},{key:"cogerBanderas",value:function(a){var e=[];return a.map((function(a){a.map((function(a){a.bandera&&e.push(a)}))})),e}},{key:"cogerOcultas",value:function(a){var e=[];return a.map((function(a){a.map((function(a){a.revelada||e.push(a)}))})),e}},{key:"inicializar",value:function(a,e,t){var n=this.vacio(a,e);return n=this.pegarMina(n,a,e,t),n=this.obtenerCeldasVecinas(n,a,e)}},{key:"vacio",value:function(a,e){for(var t=[],n=0;n<a;n++){t.push([]);for(var r=0;r<e;r++)t[n][r]={x:n,y:r,minada:!1,celdaVecina:0,revelada:!1,estaVacia:!1,bandera:!1}}return t}},{key:"pegarMina",value:function(a,e,t,n){for(var r,l,i=0;i<n;)r=this.generarAleatorio(t),l=this.generarAleatorio(e),a[r][l].minada||(a[r][l].minada=!0,i++);return a}},{key:"obtenerCeldasVecinas",value:function(a,e,t){for(var n=a,r=0;r<e;r++)for(var l=0;l<t;l++)if(!0!==a[r][l].minada){var i=0;this.consultarVecinas(a[r][l].x,a[r][l].y,a).map((function(a){a.minada&&i++})),0===i&&(n[r][l].estaVacia=!0),n[r][l].celdaVecina=i}return n}},{key:"consultarVecinas",value:function(a,e,t){var n=[];return a>0&&n.push(t[a-1][e]),a<this.props.altura-1&&n.push(t[a+1][e]),e>0&&n.push(t[a][e-1]),e<this.props.anchura-1&&n.push(t[a][e+1]),a>0&&e>0&&n.push(t[a-1][e-1]),a>0&&e<this.props.anchura-1&&n.push(t[a-1][e+1]),a<this.props.altura-1&&e<this.props.anchura-1&&n.push(t[a+1][e+1]),a<this.props.altura-1&&e>0&&n.push(t[a+1][e-1]),n}},{key:"revelarTablero",value:function(){var a=this.state.datosTablon;a.map((function(a){a.map((function(a){a.revelada=!0}))})),this.setState({datosTablon:a})}},{key:"revelarCeldaVacia",value:function(a,e,t){var n=this;return this.consultarVecinas(a,e,t).map((function(a){a.bandera||a.revelada||!a.estaVacia&&a.minada||(t[a.x][a.y].revelada=!0,a.estaVacia&&n.revelarCeldaVacia(a.x,a.y,t))})),t}},{key:"_handleClicarCelda",value:function(a,e){var t=this.state.jugando;if(this.state.datosTablon[a][e].revelada||this.state.datosTablon[a][e].bandera)return null;this.state.datosTablon[a][e].minada&&(this.setState({estadoJuego:"\xa1HAS PERDIDO! \ud83d\ude31"}),this.revelarTablero(),alert("\xa1HAS PERDIDO! \ud83d\ude31"));var n=this.state.datosTablon;n[a][e].bandera=!1,n[a][e].revelada=!0,n[a][e].estaVacia&&(n=this.revelarCeldaVacia(a,e,n),t+=80),this.cogerOcultas(n).length===this.props.n_minas&&(this.setState({nMinasTotal:0,estadoJuego:"\xa1ENHORABUENA, HAS GANADO! \ud83c\udfc6"}),this.revelarTablero(),alert("\xa1ENHORABUENA, HAS GANADO! \ud83c\udfc6")),t++,this.setState({datosTablon:n,jugando:t,nMinasTotal:this.props.n_minas-this.cogerBanderas(n).length})}},{key:"_handleBandera",value:function(a,e,t){a.preventDefault();var n=this.state.jugando,r=this.state.datosTablon,l=this.state.nMinasTotal;if(!r[e][t].revelada){if(r[e][t].bandera?(r[e][t].bandera=!1,l++):(r[e][t].bandera=!0,l--),0===l){var i=this.cogerMinas(r),c=this.cogerBanderas(r);JSON.stringify(i)===JSON.stringify(c)&&(this.setState({nMinasTotal:0,estadoJuego:"\xa1ENHORABUENA, HAS GANADO!"}),this.revelarTablero(),alert("\xa1ENHORABUENA, HAS GANADO!"))}this.setState({datosTablon:r,nMinasTotal:l,jugando:n})}}},{key:"pintarTablero",value:function(a){var e=this;return a.map((function(a){return a.map((function(t){return r.a.createElement("div",{key:t.x*a.length+t.y},r.a.createElement(d,{onClick:function(){return e._handleClicarCelda(t.x,t.y)},bandera:function(a){return e._handleBandera(a,t.x,t.y)},value:t}),a[a.length-1]===t?r.a.createElement("div",{className:"clear"}):"")}))}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement("div",{id:"panel"},r.a.createElement("h2",{className:"info"},this.state.estadoJuego),r.a.createElement("button",{class:"btn btn-primary"},"Minas: ",this.state.nMinasTotal),"\xa0\xa0\xa0\xa0",r.a.createElement("button",{class:"btn btn-warning"},"Puntos: ",this.state.jugando),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{class:"btn btn-danger",onClick:function(){return window.location.reload(!1)}},"Reiniciar")),r.a.createElement("center",null,r.a.createElement("div",{id:"tablita"},this.pintarTablero(this.state.datosTablon))),r.a.createElement(b,null))}}]),e}(r.a.Component),g=function(a){function e(){return Object(c.a)(this,e),Object(o.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(m.a)(e,a),Object(s.a)(e,[{key:"render",value:function(){return r.a.createElement(h.a,{dark:!0,color:"warning"},r.a.createElement("div",{className:"navbar-start"},r.a.createElement(f.a,null,r.a.createElement("img",{src:p.a,width:"30",height:"30",class:"d-inline-block align-top",alt:""})," ",r.a.createElement("span",{class:"titulo"},"BUSCAMINAS EN REACTJS"))))}}]),e}(r.a.Component),N=E,y=function(a){function e(){var a,t;Object(c.a)(this,e);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(o.a)(this,(a=Object(u.a)(e)).call.apply(a,[this].concat(r)))).state={altura:10,anchura:10,n_minas:10},t}return Object(m.a)(e,a),Object(s.a)(e,[{key:"render",value:function(){var a=this.state,e=a.altura,t=a.anchura,n=a.n_minas;return r.a.createElement(N,{altura:e,anchura:t,n_minas:n})}}]),e}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(a){a.unregister()}))},8:function(a,e,t){}},[[15,1,2]]]);
//# sourceMappingURL=main.84b3224a.chunk.js.map